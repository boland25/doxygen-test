<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.17"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>HElib: Release Changes</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;1,700&family=Merriweather&family=Merriweather+Sans&family=Open+Sans&family=Poppins:ital@1&family=Roboto:ital,wght@0,400;1,300;1,900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="jquery.smartmenus.js"></script>
        <!-- SmartMenus jQuery Bootstrap Addon -->
        <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
        <!-- SmartMenus jQuery plugin -->
    </head>
    <body style="font-family: 'Merriweather', serif;">
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">HElib Implementing Homomorphic Encryption</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Release Changes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md11"></a>
HElib 2.0.0, January 2021</h1>
<p>(tagged as v2.0.0)</p>
<ul>
<li>Contains API changes that are not backwards compatible with v1.x.x<ul>
<li>Changes to Context API</li>
<li>Must use ContextBuilder to build context</li>
<li>New serialization APIs: binary and JSON</li>
</ul>
</li>
<li>CKKS coding tutorials</li>
<li>Bug fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
HElib 1.3.1, December 2020</h1>
<p>(tagged as v1.3.1)</p>
<ul>
<li>Refactoring of CKKS Mitigation</li>
<li>Re-instated <code>Ctxt</code> isCorrect</li>
<li>Ctxt Conjugation fix</li>
<li>Added GMP and <a class="el" href="namespace_n_t_l.html">NTL</a> alternative download locations</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
HElib 1.3.0, December 2020</h1>
<p>(tagged as v1.3.0)</p>
<h2><a class="anchor" id="autotoc_md14"></a>
November-December 2020</h2>
<ul>
<li>Mitigation for the CKKS vulnerability recently <a href="https://eprint.iacr.org/2020/1533.pdf">observed</a> by Li and Micciancio</li>
<li>Context Builder using builder pattern</li>
<li>HElib now requires C++17</li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
HElib 1.2.0, November 2020</h1>
<p>(tagged as v1.2.0)</p>
<h2><a class="anchor" id="autotoc_md16"></a>
October-November 2020</h2>
<ul>
<li>Mitigation for potential CKKS vulnerability.</li>
<li>Additional API changes for parameters to the CKKS encoding functions.</li>
<li>New infrastructure for benchmarks</li>
<li>Updated ClonedPtr</li>
<li>Additional Ctxt tests</li>
<li>Bug Fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md17"></a>
HElib 1.1.0, October 2020</h1>
<p>(tagged as v1.1.0)</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Augst-October 2020</h2>
<ul>
<li>Updated &amp; enhanced security level estimation</li>
<li>Experimental Tool for computing sample parameters for CKKS</li>
<li>Improved testing procedures and documentation</li>
<li>Multi platform and multi configuration Travis-CI pipeline</li>
<li>Added version.{h,cpp)</li>
<li>Bug Fixes:<ul>
<li>CKKS divide by zero</li>
<li>version.h</li>
<li>compatibility with cmake 3.10.x</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md19"></a>
HElib 1.1.0 Beta 0, August 2020</h1>
<p>(tagged as v1.1.0-beta.0)</p>
<h2><a class="anchor" id="autotoc_md20"></a>
June-August 2020</h2>
<ul>
<li>Utils<ul>
<li>create-context</li>
<li>encrypt/decrypt</li>
<li>encode/decode examples</li>
</ul>
</li>
<li>Improvements to noise management</li>
<li>Move to CMake &gt;= 3.10.2</li>
<li>Doxygen improved look and feel</li>
<li>Improved docs</li>
<li>New examples and mini-tutorial on private preserving db query</li>
<li>Configurable PSI/PIR beta</li>
<li>Some tools in <code>misc/</code> for code formatting and algebra generation</li>
<li><code>Warning</code> messages are now logged (default <code>helib.log</code>)</li>
<li>Bug fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md21"></a>
HElib 1.0.2, June 2020</h1>
<p>(tagged as v1.0.2)</p>
<h2><a class="anchor" id="autotoc_md22"></a>
April-June 2020</h2>
<ul>
<li>Source code contribution policy</li>
<li>HElib now builds with compiler pedantic flags</li>
<li>Consistent C++ format style adopted</li>
<li>Improved sampling functions</li>
<li>Bug fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md23"></a>
HElib 1.0.1, April 2020</h1>
<p>(tagged as v1.0.1)</p>
<h2><a class="anchor" id="autotoc_md24"></a>
January-April 2020</h2>
<ul>
<li>Additional BGV examples BGV_(packed and binary)_arithmetic and simple BGV_database_lookup</li>
<li>Improved powerful basis</li>
<li>Enhancements and extensions to Binary operations</li>
<li>Enhancements to Ptxt functions</li>
<li>Enhancements to Ctxt Functions</li>
<li>Enhancements and fixes to <code>ArgMap</code> functionality</li>
<li>Compilation warning messages clean-up</li>
<li>Updates to Docker build</li>
<li>Using stable Google Test framework to HElib testing suite.</li>
<li>Additional tests ported to using Google Test framework</li>
<li>Bug fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md25"></a>
HElib 1.0.0, January 2020</h1>
<p>(tagged as v1.0.0)</p>
<h2><a class="anchor" id="autotoc_md26"></a>
December 2019</h2>
<ul>
<li>C++14 Standard (minimum level)</li>
<li>New <code>Ptxt</code> Plaintext class that implements the same functionality of the <code>Ctxt</code> ciphertext class. <br  />
</li>
<li>Improved version of the <code>ArgMap</code> API for command line arguments. <br  />
</li>
<li>Restructuring of the project directory tree. <br  />
</li>
<li>Removed AES example - improved version on its way. <br  />
</li>
<li>Doxygen documentation. <br  />
</li>
<li>Bug fixes.</li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
HElib 1.0.0 beta 2, November 2019</h1>
<p>(tagged as 1.0.0-beta2-Nov2019)</p>
<h2><a class="anchor" id="autotoc_md28"></a>
September-November 2019</h2>
<ul>
<li>Significant refactoring and cleanup of codebase. <br  />
</li>
<li>New <code>helib</code> namespace. <br  />
</li>
<li>New <code>examples</code> and <code>benchmarks</code> directory trees. <br  />
</li>
<li>Improvements to bootstrapping. <br  />
</li>
<li>Better tests for bootstrapping and binary arithmetic in BGV. <br  />
</li>
<li>Docs and example code for binary arithmetic. <br  />
</li>
<li>Overall code and performance improvements in <code>NumbTh.cpp</code>. <br  />
</li>
<li>HElib now avoids <em>very bad</em> generators. <br  />
</li>
<li>Bug fixes.</li>
</ul>
<h1><a class="anchor" id="autotoc_md29"></a>
HElib 1.0.0 beta 1, August 2019</h1>
<p>(tagged as 1.0.0-beta1-Aug2019)</p>
<h2><a class="anchor" id="autotoc_md30"></a>
August 2019</h2>
<ul>
<li>Improved noise management in HElib. <br  />
</li>
<li>Better and more robust bootstrapping algorithm.</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
July 2019</h2>
<ul>
<li>Added new bootstrapping and PGFFT tests.</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
June 2019</h2>
<ul>
<li>Added implementation of PGFFT to replace Armadillo for FFTs in the CKKS scheme. See comments in <code><a class="el" href="_p_g_f_f_t_8h_source.html">PGFFT.h</a></code> for more information.</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
May 2019</h2>
<ul>
<li>CKKS bug fixes and fixed compiler warnings.</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
April 2019</h2>
<ul>
<li>Moved the HElib repository on github from shaih/HElib to HomEnc/HElib. <br  />
</li>
<li>Introduced HElib-specific exceptions, replaced C <code>assert</code>, <a class="el" href="namespace_n_t_l.html">NTL</a></li>
<li>Error and <code>std::exception</code> to use HElib-specific assertions that throw the new exceptions. <br  />
</li>
<li>See comments in <code><a class="el" href="assertions_8h_source.html" title="Various assertion functions for use within HElib. These are meant as a replacement for C-style assert...">assertions.h</a></code> and <code><a class="el" href="exceptions_8h_source.html" title="Various HElib-specific exception types.">exceptions.h</a></code> for usage information.</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
March 2019</h2>
<ul>
<li>Introduced new test framework (google test), documented in TESTS.md. <br  />
</li>
<li>Previous framework will be deprecated. Added a cmake build script for building HElib and dependencies, documented in INSTALL.md. <br  />
</li>
<li>Added an example program, see <code>example program</code>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md36"></a>
HElib 1.0.0 beta 0, January 2019</h1>
<p>(tagged as 1.0.0-beta0-Jan2019)</p>
<p>This commit includes multiple changes to the library. We hope to add documentation over the next few weeks, then make it into an official version 1.0.0 release. Below is a summary of the main changes since March of 2018.</p>
<h2><a class="anchor" id="autotoc_md37"></a>
1. Decoupling modulus-switching resolution from size of primes in the chain</h2>
<p>With this version, we greatly refined the supported resolution for modulus switching. In previous versions all the modulus in the chain were of the same size, except perhaps one that was exactly half the size of the others. As a result, modulus switching was always confined to a rather coarse resolution. For example when the moduli size was 50 bits and the half-size modulus was 25 bits long, modulus switching had to drop multiples of 25 bits every time.</p>
<p>In the current version the application can specify the target resolution, using the optional 'resolution' argument of the method <code>FHEcontext::buildModChain</code> (with <code>resolution=3</code> as the default). HElib now keeps moduli of different sizes, and attempts to find a subset of them with sizes adding up to what's needed.</p>
<p>An important implication of this change is that HElib no longer has a notion of a discrete number of "levels" that are available for computation. Instead it has a notion of "capacity" of a ciphertext, which is just the logarithm of the modulus/noise ratio. One can get the current capacity of a ciphertext by calling <code>ct.capacity()</code> for the natural logarithm or <code>ct.bitCapacity()</code> for the logarithm base 2.</p>
<p>When calling <code>FHEcontext::buildModChain</code>, the number-of-levels argument is replaced by a number-of-bits arguments. The task of determining the required number of bits for any given computation is left to the calling application. (We may provide some functions to help make that decisions, but they are not available yet.)</p>
<p>Some convenience methods that we do provide are <code>ct.naturalSize()</code> that returns the size (natural logarithm) that this ciphertext should be mod-switched to if we square it, and <code>ct.naturalPrimeSet()</code> that returns the corresponding prime-set.</p>
<h2><a class="anchor" id="autotoc_md38"></a>
2. Preliminary support for the CKKS cryptosystem</h2>
<p>Included in this version is a draft implementation of the CKKS approximate-number homomorphic encryption. To access this implementation, one needs to create an <code>FHEcontext</code> with "plaintext space modulus" <code>p=-1</code>, and using the parameter <code>r</code> to specify the requested precision. For example setting </p><div class="fragment"><div class="line">{c++}</div>
<div class="line"> FHEcontext context(/*m=*/4096, /*p=*/-1, /*r=*/8);</div>
</div><!-- fragment --><p>will set up an instance of CKKS over the 2^12 cyclotomic ring, requesting to keep precision of 1/256 (i.e., 8 bits to the right of the binary point). The implementation includes a <code>EncryptedArrayCx</code> class that handles the encoding and decoding of these instances, see <a class="el" href="_encrypted_array_8h_source.html" title="Data-movement operations on encrypted arrays of slots.">EncryptedArray.h</a>.</p>
<p>We use the same chassis for CKKS as for BGV, and in particular we support arbitrary cyclotomics (not just powers of two). But not everything is implemented for this case yet. (For instance <code>EncryptedArray::shift1D</code> is not implemented for CKKS ciphertexts.)</p>
<p>This implementation is quite preliminary, and for now it only "does the right thing" as long as all the complex data elements throughout the computation are close to one in absolute value. For smaller data values the requested precision will typically not be enough, while for larger values the implementation will spend too much resources trying to keep the precision way too high.</p>
<h2><a class="anchor" id="autotoc_md39"></a>
3. More rigorous dynamic noise estimates</h2>
<p>HElib includes logic to estimate the level of noise in the ciphertext, and many of the library's housekeeping operations depend on this estimate. Crucially, big discrepancies between the actual noise and the estimated one may lead to decryption errors.</p>
<p>Earlier version roughly kept an estimate of the L2-squared noise of the coefficient representation of the ring elements, using various hand-wavy methods (which often times were not even heuristically sound). The current version instead keeps high-probability bound on the L-infinity norm in the canonical embedding, and tries to provide at least a heuristic guarantee of no decryption errors. The result is sometimes more conservative modulus-switching choices.</p>
<p>We added to the <code>FHEcontext</code> class a data member <code>scale</code> that represents the "number of standard deviations" used in our high-probability heuristic bounds. It defaults to <code>scale=10</code>, corresponding to probability roughly 2^{-76} for a normal random variable being more than 10 standard deviations away from its mean. The application can set <code>context.scale</code> to other values, it controls the estimated size of the noise terms in freshly sampled elements and other operations (such as modulus switching and key switching). See more documentation in FHEContext.h.</p>
<p>Also with this version we no longer use the "ring constant" data member <code>cM</code> in the PAlgebra class for noise estimate. That data member is only used in recryption, to tweak the size computation for the "powerful basis" of elements. See more documentation in <a class="el" href="recryption_8h_source.html" title="Define some data structures to hold recryption data.">recryption.h</a> under the <code>setAE()</code> function.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
4. Other notable changes</h2>
<h3><a class="anchor" id="autotoc_md41"></a>
4a. Keeping an integer factor in BGV</h3>
<p>In previous versions we used the decryption invariant </p><pre class="fragment">[&lt;sk,ct&gt;]_q = q*m (mod p),
</pre><p>which is convenient for the modulus switching operation. One of the consequences of this invariant, however, is that whenever we multiply two ciphertexts we have to multiply the result by q^{-1} mod p, which increases the noise (especially for large plaintext spaces p).</p>
<p>In this version we added a <code>long intFactor</code> data member to ciphertexts, and we now use the modified invariant </p><pre class="fragment">[&lt;sk,ct&gt;]_q = intFactor*q*m (mod p),
</pre><p>This is just as convenient as before for modulus switching, but it allows us to just modify the <code>intFactor</code> (without changing the noise) after multiplication. When we add two ciphertexts we still need to make sure that they both have the same <code>intFactor</code>, but it is easy to see that this can be done while increasing the noise of the result by at most a sqrt(p) factor.</p>
<h3><a class="anchor" id="autotoc_md42"></a>
4b. Wider noise sampling for non-power-of-two ring-LWE</h3>
<p>Fixed a security bug, related to the ring-LWE assumption in non-power-of-two cyclotomic rings. Before we always sampled the noise with a constant width in the coefficient representation (sigma=3.2 by default). This is an acceptable choice for power-of-two cyclotomics, but not otherwise. In the new version, for the m'th cyclotomic (with m not a power of two), we sample a <em>degree-m polynomial</em> in coefficient representation using Gaussian width sigma*sqrt(m), and then reduce the result modulo Phi_m(X). This yields somewhat larger noise terms.</p>
<p>On the other hand, when sampling noise terms during key-generation, we check the canonical-embedding norm of the result and re-sample if it is too large. (Specifically we set the parameters so that the probability of re-sampling is below 1/2.) This very often yields smaller noise terms for the keys.</p>
<h3><a class="anchor" id="autotoc_md43"></a>
4c. Implemented the Chen-Han "thin" bootstrapping procedure</h3>
<p>Implemented the faster procedure for bootstrapping lightly packed ciphertexts (where the slots contain only integers), from <a href="https://ia.cr/2018/067">[Chen-Han, Eurocrypt 2018]</a>. Integrated this procedure with the improved linear algebra methods of HElib.</p>
<h3><a class="anchor" id="autotoc_md44"></a>
4d. Bootstrapping parameters handled more rigorously</h3>
<p>Corrected some mistakes and tightened the analysis in <a href="https://ia.cr/2014/873">[Halevi-Shoup, Eurocrypt 2015]</a>, specifically Lemmas 5.1 and 5.2 and appendix A. This makes very little difference for bootstrapping with a prime plaintext space p, but a dramatic difference for plaintext space p^r for r&gt;1. For example bootstrapping with plaintext space p^r=2^8 is now almost as efficient as for plaintext space p=2.</p>
<h2><a class="anchor" id="autotoc_md45"></a>
5. Minor changes</h2>
<ul>
<li>Modified <code>Makefile</code> to look for local settings in the file <code>local-defs</code>;</li>
<li>Introduced binary serialization/deserialization (vs. the previous ascii-based method);</li>
<li>Removed all 'using' from header files;</li>
<li>Added innerProduct function on wrapped vectors (see <code><a class="el" href="_ct_ptrs_8h_source.html" title="Unified interface for vector of pointers to ciphertexts.">CtPtrs.h</a></code>);</li>
<li><code>DoubleCRT</code> constructors no longer have default prime-set;</li>
<li>Added a "destructive" multiply method, calling <code>ct1.multLowLvl(ct, true)</code> may mod-switch both <code>c1</code> and <code>c2</code>;</li>
<li>Made <code>FHEPubKey::Encrypt</code> virtual, overridden by <code>FHESecKey::Encrypt</code>;</li>
<li>Small changes in how the digits are set-up in <code>FHEcontext</code> to make their size more uniform;</li>
<li>Eliminated some code duplication between "thin" and "think" bootstrapping in recryption.cpp;</li>
<li>Added some more functions/options in the debugging module. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
        <script type="text/javascript" src="doxy-boot.js"></script>
</html>
